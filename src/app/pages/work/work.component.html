<section class="work-section py-20">
  <div class="container">
    <div class="grid grid-cols-1 md:grid-cols-12 gap-8 items-center">
      <div class="md:col-span-6 lg:col-span-5">
        <div class="index-outer">
          <div class="index-number">0{{ index() + 1 }}</div>
          <div class="index-outline">{{ index() + 1 }}</div>
        </div>

        <h2 class="work-title mono-title">{{ project.title }}</h2>
        <p class="work-subtitle text-muted mt-3">{{ project.subtitle }}</p>
        <p class="mt-6 text-muted max-w-prose">{{ project.description }}</p>

        <div class="tech-tags mt-6">
          <span *ngFor="let t of project.tech" class="tag">{{ t }}</span>
        </div>

        <div class="mt-6 flex items-center gap-3">
          <a class="btn-primary" href="#" aria-label="Open project">Github repository</a>
          <div class="icon-actions flex items-center gap-3 ml-2">
            <button class="icon-btn" title="Open demo">↗</button>
            <button class="icon-btn" title="Repo"></button>
          </div>
        </div>

        <hr class="my-6 border-t border-white/6" />

        <div class="nav-arrows flex items-center gap-3">
          <button class="arrow" (click)="prev()" aria-label="Previous project">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <button class="arrow" (click)="next()" aria-label="Next project">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      </div>

      <div class="md:col-span-6 lg:col-span-7">
        <div class="work-preview">
          <div class="image-stack">
            <ng-container *ngFor="let img of project.images; let i = index">
              <img [src]="img" [class.top]="i === 0" alt="project image {{i}}" />
            </ng-container>
          </div>

          <div class="preview-controls">
            <button class="preview-btn" (click)="prev()" aria-label="Previous preview">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
            <button class="preview-btn" (click)="next()" aria-label="Next preview">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
          </div>

          <div class="preview-dots mt-4 flex gap-3 justify-center">
            <button *ngFor="let p of projects; let idx = index" class="dot" [class.active]="idx === index()" (click)="goTo(idx)" [attr.aria-label]="'Go to project ' + (idx+1)"></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
